"use strict";angular.module("myApp",["ngRoute","ngAnimate","myApp.editor"]).config(["$routeProvider",function(e){e.otherwise({redirectTo:"/editor"})}]),function(){function e(){var e=this;return e.editor="",e.result="",e}function t(e){var t=this;t.$storage=e,t.editStatus=!1,t.categorySelected=1,t.noteSelected=1,t.openModal=!1,t.category={},t.note={},t.categoryList=[{id:1,name:"分类1",note:[{id:1,title:"笔记1",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"},{id:2,title:"笔记2",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"},{id:3,title:"笔记3",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"}]},{id:2,name:"分类2",note:[{id:1,title:"笔记4",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"},{id:2,title:"笔记5",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"},{id:3,title:"笔记6",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"}]},{id:3,name:"分类3",note:[{id:1,title:"笔记6",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"},{id:2,title:"笔记7",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"},{id:3,title:"笔记8",content:"# header",createTime:"2016-4-4",updateTime:"2016-4-5"}]}],t.noteList=t.categoryList[0].note,t.note=t.noteList[0],t.edit=function(){t.editStatus=!0},t.save=function(){t.editStatus=!1},t.selectCategory=function(e){t.categorySelected=e,t.noteList=t.categoryList[e-1].note},t.selectNote=function(e){t.noteSelected=e.id,t.note=e},t.open=function(e){t.type=e,t.openModal=!0},t.add=function(){"分类"==t.type?(t.category={id:t.categoryList.length+1,name:t.name,note:[]},t.categoryList.push(t.category),t.name="",console.log(t.categoryList)):"笔记本"==t.type&&(t.note={id:t.categoryList.length+1,title:t.name,createTime:new Date},console.log(t.categoryList[t.categorySelected-1]),t.noteList=t.categoryList[t.categorySelected-1].note,t.noteList.push(t.note),t.categoryList[t.categorySelected-1].note=t.noteList,t.name=""),t.openModal=!1},t.cancel=function(){t.openModal=!1},t.deleteCategory=function(e){},t.deleteNote=function(e){}}t.$inject=["$localStorage"],angular.module("myApp.editor",["ngRoute","hljs","editor.filter","ngStorage","editor.service"]).config(["$routeProvider",function(e){e.when("/editor",{templateUrl:"views/editor.html",controller:"EditorController"}).when("/index",{templateUrl:"views/index.html",controller:"IndexController"})}]).controller("EditorController",e).controller("IndexController",t)}(),function(){"uss strict";angular.module("editor.filter",[]).filter("render",["$sce",function(e){return function(t){return angular.isUndefined(t)||0!=t.length&&(t=marked(t)),e.trustAsHtml(t)}}])}(),function(){function e(e,t){var o=function(){return e.categoryList},n=function(e){var t=o();return t[e-1].note},i=function(e,i){o(),n(e),{id:vm.categoryList.length+1,title:vm.name,createTime:t("date")(new Date,"yyyy-MM-dd HH:mm:ss"),updateTime:t("date")(new Date,"yyyy-MM-dd HH:mm:ss")};console.log(vm.categoryList[vm.categorySelected-1]),vm.noteList=vm.categoryList[vm.categorySelected-1].note,vm.noteList.push(vm.note),vm.categoryList[vm.categorySelected-1].note=vm.noteList};return{saveNote:i}}angular.module("editor.service",[]).factory("NoteService",e)}();